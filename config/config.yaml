# ì°¨ëŸ‰ ë¶„ë¥˜ ëª¨ë¸ ì„¤ì • íŒŒì¼

# ë°ì´í„° ì„¤ì •
data:
  train_dir: "data/train"
  test_dir: "data/test"
  img_size: 384  # ConvNeXt V2 Largeì— ìµœì í™”ëœ í¬ê¸°
  num_classes: 396

# ëª¨ë¸ ì„¤ì • (1ë“±ì„ ìœ„í•œ ìµœê°• ëª¨ë¸!)
model:
  backbone: "convnextv2_large.fcmae_ft_in22k_in1k_384"  # ğŸš€ ìµœê³  ì„±ëŠ¥ ëª¨ë¸
  dropout: 0.5
  pretrained: true

# í•™ìŠµ ì„¤ì • (1ë“±ì„ ìœ„í•œ ìµœì í™”!)
training:
  epochs: 100
  batch_size: 24  # ConvNeXt V2 LargeëŠ” ë©”ëª¨ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ë¯€ë¡œ ì¡°ì •
  learning_rate: 0.005  # ConvNeXtì— ìµœì í™”ëœ í•™ìŠµë¥ 
  weight_decay: 0.05
  num_workers: 8
  
  # ì†ì‹¤ í•¨ìˆ˜ (ë¶ˆê· í˜• ë°ì´í„°ì— ìµœì )
  loss:
    type: "FocalLoss"
    alpha: 1.0
    gamma: 2.0
    label_smoothing: 0.15
  
  # ì˜µí‹°ë§ˆì´ì €
  optimizer:
    type: "AdamW"
    betas: [0.9, 0.999]
    eps: 1e-8
  
  # ìŠ¤ì¼€ì¤„ëŸ¬ (ì•ˆì •ì ì¸ í•™ìŠµì„ ìœ„í•´)
  scheduler:
    type: "ReduceLROnPlateau"
    mode: "min"
    factor: 0.5
    patience: 3
    min_lr: 0.00001
    verbose: true

# êµì°¨ ê²€ì¦ ì„¤ì •
cv:
  n_splits: 5
  shuffle: true
  random_state: 42

# ë¡œê¹… ì„¤ì •
logging:
  save_dir: "outputs"
  project_name: "car_classification_convnextv2"
  experiment_name: "convnextv2_large_1st_place"
  log_interval: 50
  save_top_k: 3
  
  # TensorBoard ì„¤ì •
  tensorboard:
    enabled: true
    log_dir: "outputs/tensorboard"
  
  # ì²´í¬í¬ì¸íŠ¸ ì„¤ì •
  checkpoint:
    save_best: true
    save_last: true
    monitor: "val_log_loss"
    mode: "min"

# ì¶”ë¡  ì„¤ì •
inference:
  batch_size: 32
  tta: true  # Test Time Augmentation
  tta_steps: 5

# ì‹œë“œ ì„¤ì •
seed: 42
